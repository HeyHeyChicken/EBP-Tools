<!--
Copyright (c) 2025, Antoine Duval
This file is part of a source-visible project.
See LICENSE for terms. Unauthorized use is prohibited.
-->

<ebp-container>
  <ebp-row>
    <ebp-column></ebp-column>
    <ebp-column [xs]="7">
      @if (percent != undefined) {
        <ebp-loader [value]="percent"></ebp-loader>
      } @else {
        <ebp-message class="mb-2">
          {{ 'view.replay_downloader.intro' | translate }}
        </ebp-message>
        <div class="box">
          <!-- STEP 1 -->
          <p>{{ 'view.game_history.step' | translate }} 1</p>
          <mat-form-field
            (click)="setOutputPath()"
            (keypress)="setOutputPath()"
          >
            <mat-label>{{
              'view.replay_cutter.outputPath' | translate
            }}</mat-label>
            <input matInput readonly type="text" [value]="outputPath" />
            <div class="buttons">
              <button class="btn squared" tabindex="-1">
                <i class="fa-sharp fa-solid fa-gear"></i>
              </button>
            </div>
          </mat-form-field>
          <!-- STEP 2 -->
          <p>{{ 'view.game_history.step' | translate }} 2</p>
          <form (submit)="onDownloadYouTube()">
            <mat-form-field>
              <mat-label>YouTube</mat-label>
              <input
                matInput
                type="text"
                placeholder="http://www.youtube.com/watch?v=aqz-KE-bpKQ"
                [ngModelOptions]="{ standalone: true }"
                [(ngModel)]="youTubeURL"
              />
              <div class="buttons">
                <button type="submit" tabindex="-1">
                  <i class="fa-brands fa-youtube"></i>
                </button>
              </div>
            </mat-form-field>
          </form>
          <form (submit)="onDownloadTwitch()">
            <mat-form-field>
              <mat-label>Twitch</mat-label>
              <input
                matInput
                type="text"
                placeholder="https://www.twitch.tv/videos/2481536428"
                [ngModelOptions]="{ standalone: true }"
                [(ngModel)]="twitchURL"
              />
              <div class="buttons">
                <button type="submit" tabindex="-1">
                  <i class="fa-brands fa-twitch"></i>
                </button>
              </div>
            </mat-form-field>
          </form>
        </div>
      }
    </ebp-column>
  </ebp-row>
</ebp-container>
