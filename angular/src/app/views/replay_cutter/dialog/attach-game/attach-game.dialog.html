<!--
Copyright (c) 2025, Antoine Duval
This file is part of a source-visible project.
See LICENSE for terms. Unauthorized use is prohibited.
-->

<h2 mat-dialog-title>
  {{ 'view.replay_cutter.dialog.attach-game.title' | translate }}
  <button
    class="squared"
    mat-dialog-close
    matTooltip="{{ 'common.close' | translate }}"
  >
    <i class="fa-sharp fa-solid fa-xmark"></i>
  </button>
</h2>
<mat-dialog-content>
  <ebp-row>
    <ebp-column [xs]="12">
      <img src="{{data.image}}" />
    </ebp-column>
    <ebp-column [xs]="12">
      <table>
        <thead>
          <tr>
            <th>
              {{ 'view.replay_cutter.dialog.attach-game.tags' | translate }}
            </th>
            <th colspan="2">
              {{ 'view.replay_cutter.dialog.attach-game.players' | translate }}
            </th>
            <th>
              {{ 'view.replay_cutter.dialog.attach-game.date' | translate }}
            </th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          @for (game of data.games; track game.ID) {
          <tr>
            <td>
              <div class="tags">
                @for (tag of game.tags; track $index) {
                <div class="tag">{{tag}}</div>
                }
              </div>
            </td>
            <td class="orange">
              <ul>
                @for (player of game.orangePlayers; track player) {
                <li>{{player}}</li>
                }
              </ul>
            </td>
            <td class="blue">
              <ul>
                @for (player of game.bluePlayers; track player) {
                <li>{{player}}</li>
                }
              </ul>
            </td>
            <td>{{ game.date }}</td>
            <td>
              <button class="green squared" [mat-dialog-close]="game.ID">
                <i class="fa-solid fa-check"></i>
              </button>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </ebp-column>
  </ebp-row>
</mat-dialog-content>
